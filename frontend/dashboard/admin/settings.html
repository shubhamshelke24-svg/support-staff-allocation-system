<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Admin Dashboard</title>
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="dashboard">
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <i class="fas fa-hospital-alt"></i> HMS
                </div>
                <div class="sidebar-subtitle">Staff Allocation System</div>
            </div>
            
            <nav class="sidebar-menu">
                <a href="index.html" class="menu-item">
                    <i class="fas fa-chart-pie"></i> Overview
                </a>
                <a href="staff-management.html" class="menu-item">
                    <i class="fas fa-users"></i> Staff Management
                </a>
                <a href="duties.html" class="menu-item">
                    <i class="fas fa-tasks"></i> Duties & Allocation
                </a>
                <a href="attendance.html" class="menu-item">
                    <i class="fas fa-calendar-check"></i> Attendance
                </a>
                <a href="performance.html" class="menu-item">
                    <i class="fas fa-chart-line"></i> Performance
                </a>
                <a href="reports.html" class="menu-item">
                    <i class="fas fa-file-alt"></i> Reports
                </a>
                <a href="settings.html" class="menu-item active">
                    <i class="fas fa-cog"></i> Settings
                </a>
                <a href="../../auth/login.html" class="menu-item" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </nav>
        </div>

        <div class="main-content">
            <div class="top-nav">
                <div class="nav-title">
                    <h1><i class="fas fa-cog"></i> System Settings</h1>
                </div>
                <div class="user-menu">
                    <div class="user-info">
                        <div class="user-name" id="userName">System Administrator</div>
                        <div class="user-role">Administrator</div>
                    </div>
                    <div class="avatar" id="userAvatar">SA</div>
                    <button class="menu-toggle" onclick="toggleSidebar()">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>

            <div class="content">
                <!-- Settings Navigation -->
                <div class="settings-nav mb-4">
                    <button class="nav-btn active" onclick="showSection('general')">General</button>
                    <button class="nav-btn" onclick="showSection('departments')">Departments</button>
                    <button class="nav-btn" onclick="showSection('notifications')">Notifications</button>
                    <button class="nav-btn" onclick="showSection('security')">Security</button>
                    <button class="nav-btn" onclick="showSection('backup')">Backup</button>
                </div>

                <!-- General Settings -->
                <div id="general-section" class="settings-section">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-sliders-h"></i> General Settings</h3>
                        </div>
                        <div class="card-body">
                            <form id="generalSettingsForm">
                                <div class="form-row">
                                    <div class="form-col">
                                        <label>Hospital Name</label>
                                        <input type="text" class="form-control" value="City General Hospital" required>
                                    </div>
                                    <div class="form-col">
                                        <label>System Language</label>
                                        <select class="form-control">
                                            <option value="en">English</option>
                                            <option value="es">Spanish</option>
                                            <option value="fr">French</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-col">
                                        <label>Time Zone</label>
                                        <select class="form-control">
                                            <option value="est">Eastern Time (EST)</option>
                                            <option value="cst">Central Time (CST)</option>
                                            <option value="pst">Pacific Time (PST)</option>
                                        </select>
                                    </div>
                                    <div class="form-col">
                                        <label>Date Format</label>
                                        <select class="form-control">
                                            <option value="mm/dd/yyyy">MM/DD/YYYY</option>
                                            <option value="dd/mm/yyyy">DD/MM/YYYY</option>
                                            <option value="yyyy-mm-dd">YYYY-MM-DD</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-col">
                                        <label>Auto Logout (minutes)</label>
                                        <input type="number" class="form-control" value="30" min="5" max="120">
                                    </div>
                                    <div class="form-col">
                                        <label>Items Per Page</label>
                                        <input type="number" class="form-control" value="25" min="10" max="100">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Enable email notifications
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Enable SMS alerts
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox"> Maintenance mode
                                    </label>
                                </div>
                                <div class="text-right">
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Department Management -->
                <div id="departments-section" class="settings-section" style="display: none;">
                    <div class="card">
                        <div class="card-header d-flex justify-between align-center">
                            <h3><i class="fas fa-building"></i> Department Management</h3>
                            <button class="btn btn-primary" onclick="showAddDepartmentModal()">
                                <i class="fas fa-plus"></i> Add Department
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Department ID</th>
                                            <th>Department Name</th>
                                            <th>Head of Department</th>
                                            <th>Staff Count</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>DEPT001</td>
                                            <td>Cleaning & Sanitation</td>
                                            <td>Operator - Cleaning</td>
                                            <td>35</td>
                                            <td><span class="medical-badge badge-success">Active</span></td>
                                            <td>
                                                <button class="btn btn-primary btn-sm">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="btn btn-danger btn-sm">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>DEPT002</td>
                                            <td>Nursing Support</td>
                                            <td>Operator - Nursing</td>
                                            <td>25</td>
                                            <td><span class="medical-badge badge-success">Active</span></td>
                                            <td>
                                                <button class="btn btn-primary btn-sm">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="btn btn-danger btn-sm">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>DEPT003</td>
                                            <td>Laboratory</td>
                                            <td>Operator - Lab</td>
                                            <td>20</td>
                                            <td><span class="medical-badge badge-success">Active</span></td>
                                            <td>
                                                <button class="btn btn-primary btn-sm">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="btn btn-danger btn-sm">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notification Settings -->
                <div id="notifications-section" class="settings-section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-bell"></i> Notification Settings</h3>
                        </div>
                        <div class="card-body">
                            <div class="notification-category">
                                <h4>Email Notifications</h4>
                                <div class="notification-options">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Task assignments
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Task completions
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Extension requests
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox"> Daily reports
                                    </label>
                                </div>
                            </div>
                            <div class="notification-category">
                                <h4>SMS Alerts</h4>
                                <div class="notification-options">
                                    <label class="checkbox-label">
                                        <input type="checkbox"> Urgent tasks
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox"> System alerts
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox"> Emergency notifications
                                    </label>
                                </div>
                            </div>
                            <div class="notification-category">
                                <h4>In-App Notifications</h4>
                                <div class="notification-options">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> New messages
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Task updates
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Performance alerts
                                    </label>
                                </div>
                            </div>
                            <div class="text-right">
                                <button class="btn btn-primary">Save Notification Settings</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Security Settings -->
                <div id="security-section" class="settings-section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-shield-alt"></i> Security Settings</h3>
                        </div>
                        <div class="card-body">
                            <div class="security-item">
                                <h4>Password Policy</h4>
                                <div class="form-row">
                                    <div class="form-col">
                                        <label>Minimum Password Length</label>
                                        <input type="number" class="form-control" value="8" min="6" max="20">
                                    </div>
                                    <div class="form-col">
                                        <label>Password Expiry (days)</label>
                                        <input type="number" class="form-control" value="90" min="30" max="365">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Require special characters
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Require numbers
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox"> Require uppercase letters
                                    </label>
                                </div>
                            </div>
                            <div class="security-item">
                                <h4>Session Security</h4>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Force HTTPS
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox"> Require 2FA for admins
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox"> Log all user activities
                                    </label>
                                </div>
                            </div>
                            <div class="text-right">
                                <button class="btn btn-primary">Update Security Settings</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Backup Settings -->
                <div id="backup-section" class="settings-section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-database"></i> Backup & Restore</h3>
                        </div>
                        <div class="card-body">
                            <div class="backup-info">
                                <div class="backup-stat">
                                    <i class="fas fa-database"></i>
                                    <div>
                                        <h4>Last Backup</h4>
                                        <p>2024-01-14 23:00</p>
                                    </div>
                                </div>
                                <div class="backup-stat">
                                    <i class="fas fa-hdd"></i>
                                    <div>
                                        <h4>Backup Size</h4>
                                        <p>245 MB</p>
                                    </div>
                                </div>
                                <div class="backup-stat">
                                    <i class="fas fa-check-circle"></i>
                                    <div>
                                        <h4>Status</h4>
                                        <p class="text-success">Healthy</p>
                                    </div>
                                </div>
                            </div>
                            <div class="backup-actions">
                                <button class="btn btn-primary" onclick="createBackup()">
                                    <i class="fas fa-plus"></i> Create Backup Now
                                </button>
                                <button class="btn btn-success">
                                    <i class="fas fa-download"></i> Download Latest Backup
                                </button>
                                <button class="btn btn-warning">
                                    <i class="fas fa-upload"></i> Restore from Backup
                                </button>
                            </div>
                            <div class="backup-schedule">
                                <h4>Automatic Backup Schedule</h4>
                                <div class="form-row">
                                    <div class="form-col">
                                        <label>Frequency</label>
                                        <select class="form-control">
                                            <option value="daily">Daily</option>
                                            <option value="weekly">Weekly</option>
                                            <option value="monthly">Monthly</option>
                                        </select>
                                    </div>
                                    <div class="form-col">
                                        <label>Time</label>
                                        <input type="time" class="form-control" value="23:00">
                                    </div>
                                </div>
                                <div class="text-right mt-3">
                                    <button class="btn btn-primary">Save Schedule</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../../assets/js/admin.js"></script>
    <script>
        function showSection(section) {
            // Hide all sections
            document.querySelectorAll('.settings-section').forEach(sec => {
                sec.style.display = 'none';
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected section and activate button
            document.getElementById(section + '-section').style.display = 'block';
            event.target.classList.add('active');
        }

        function showAddDepartmentModal() {
            alert('Add Department modal would open here');
            // Implementation for adding department
        }

        function createBackup() {
            alert('Creating system backup... This may take a few minutes.');
            // Implementation for backup creation
        }

        // Form submission handlers
        document.getElementById('generalSettingsForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('General settings saved successfully!');
        });
    </script>

    <style>
        .settings-nav {
            display: flex;
            background: white;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav-btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            background: none;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-btn.active {
            background: #1a73e8;
            color: white;
        }

        .nav-btn:hover:not(.active) {
            background: #f8f9fa;
        }

        .settings-section {
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .checkbox-label input {
            margin-right: 10px;
        }

        .notification-category {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e1e5e9;
        }

        .notification-category:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .notification-category h4 {
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .notification-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .security-item {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e1e5e9;
        }

        .security-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .security-item h4 {
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .backup-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .backup-stat {
            display: flex;
            align-items: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .backup-stat i {
            font-size: 2rem;
            margin-right: 15px;
            color: #1a73e8;
        }

        .backup-stat h4 {
            margin-bottom: 5px;
            color: #2c3e50;
        }

        .backup-stat p {
            color: #6c757d;
            margin: 0;
        }

        .backup-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .backup-schedule {
            padding-top: 20px;
            border-top: 1px solid #e1e5e9;
        }

        .backup-schedule h4 {
            margin-bottom: 15px;
            color: #2c3e50;
        }
    </style>
</body>
</html>